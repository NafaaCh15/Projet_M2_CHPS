# =============================================================================
# PROJET M2 - MAKEFILE POUR PARTIE 1 (C++)
# =============================================================================

# Compilateur et options
CXX = g++
CXXFLAGS = -std=c++17 -O3 -Wall -Wextra -march=native
LDFLAGS = -lm

# Fichiers sources et ex√©cutables
SRC = seirs_cpp_rk4.cpp
TARGET = seirs_cpp_rk4

# =============================================================================
# R√àGLES DE COMPILATION
# =============================================================================

all: $(TARGET)

$(TARGET): $(SRC)
	@echo "üî® Compilation de $(SRC)..."
	$(CXX) $(CXXFLAGS) -o $(TARGET) $(SRC) $(LDFLAGS)
	@echo "‚úÖ Compilation r√©ussie : $(TARGET)"

# Ex√©cution
run: $(TARGET)
	@echo "‚ñ∂Ô∏è  Ex√©cution de $(TARGET)..."
	./$(TARGET)

# Compilation et ex√©cution
build-run: all run

# Nettoyage
clean:
	@echo "üßπ Nettoyage..."
	rm -f $(TARGET) *.o *.csv
	@echo "‚úÖ Nettoyage termin√©"

# Aide
help:
	@echo "==================================================="
	@echo "MAKEFILE PROJET M2 - PARTIE 1"
	@echo "==================================================="
	@echo ""
	@echo "Commandes disponibles :"
	@echo "  make          : Compiler le programme C++"
	@echo "  make run      : Ex√©cuter le programme"
	@echo "  make build-run: Compiler et ex√©cuter"
	@echo "  make clean    : Nettoyer les fichiers g√©n√©r√©s"
	@echo "  make help     : Afficher cette aide"
	@echo ""

.PHONY: all run build-run clean help